CREATE DATABASE dwes_04_supermercado;
USE dwes_04_supermercado;

-- Tabla productos: tabla principal que contiene los datos comunes a todos los productos
CREATE TABLE productos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    precio DECIMAL(10, 2) NOT NULL,
    tipo ENUM('alimentacion', 'electronica') NOT NULL, -- Para definir el tipo de producto
    UNIQUE (id, tipo) -- Clave única para la relación ISA
);

-- Tabla alimentaciones: hereda de productos y almacena atributos específicos de los productos de alimentación
CREATE TABLE alimentaciones (
    id INT PRIMARY KEY,
    fechaCaducidad DATE NOT NULL,
    FOREIGN KEY (id) REFERENCES productos(id) ON DELETE CASCADE
);

-- Tabla electronicas: hereda de productos y almacena atributos específicos de los productos electrónicos
CREATE TABLE electronicas (
    id INT PRIMARY KEY,
    plazoGarantia DATE NOT NULL,
    FOREIGN KEY (id) REFERENCES productos(id) ON DELETE CASCADE
);
